@inherits UmbracoTemplatePage
@{
    Layout = "Master.cshtml";
    var leadBannerId = Umbraco.Media(CurrentPage.leadbannerImage);
    string leadBannerUrl = leadBannerId.Url;
    var productCategories = CurrentPage.Children.Where("Visible").ToList();
}

@section stylesheets {
    <style>
        body header {
            background-image: url('@Html.Raw(leadBannerUrl)');
        }
    </style>
}

@Html.Partial("~/Views/Partials/Shared/_Leadbanner.cshtml")

<section id="product-categories-overview">

    @{ int index = 0; }
    @for (int i = 1; i <= Math.Ceiling((double)productCategories.Count() / 2); i++)
    {
        <div class="container">
            <div class="row">
                @foreach (var productCategory in productCategories.Skip(index * 2).Take(2).ToList())
                {
                    var image = Umbraco.Media(productCategory.image);

                    <div class="col-md-6 product-category-inner">
                        <a href="@productCategory.Url">
                            <img src="@image.Url" class="img-responsive" alt="@image.UrlName">
                            <div class="product-category-inner-box">
                                <h2>
                                    @productCategory.pageTitle
                                </h2>
                                <p>
                                    @productCategory.summary
                                </p>
                            </div>
                        </a>
                    </div>
                }
            </div>
        </div>

        index++;
    }
</section>